<template>
        <lightning-card title="Account Page" icon-name="custom:custom12">
            <div class="slds-m-around_medium">
                <lightning-record-view-form
                record-id={recordId}
                object-api-name="Account">
                <div class="slds-grid">
                    <div class="slds-col slds-size_1-of-2">
                    <lightning-output-field field-name="Name"></lightning-output-field>
                    <lightning-output-field field-name="Phone"></lightning-output-field>
                    <lightning-output-field field-name="Email__c"></lightning-output-field>
                </div>
            </div>
        </lightning-record-view-form>
    </div>
    
</lightning-card>

<lightning-card title="Related Contacts" icon-name="custom:custom14">
        <div class="slds-m-around_medium">
        <template if:true={contacts.data}>
                
                <table>
                    <tr>
                        <th>NAME</th>
                        <th>COMPANY</th>
                        <th>POSITION</th>
                        <th>EMAIL</th>
                        <th>PHONE</th>
                        <th>DIRECT</th>
                        <th>ROLE</th>
                    </tr>
                    
                    <template for:each={contacts.data} for:item="contact">
                        <tr key = {row}>
                            <td key={contact.Name}>{contact.Name}</td>
                            <td key={contact.Account.Name}>{contact.Account.Name}</td>
                            <td key={contact.Title}>{contact.Title}</td>
                            <td key={contact.Email}>{contact.Email}</td>
                            <td key={contact.Phone}>{contact.Phone}</td>
                            <td key={contact.Relations__c}>{contact.Relations__c}</td>
                            <td key={contact.RelationRole__c}>{contact.RelationRole__c}</td>
                        </tr>    
                    </template>
                </table>   
            </template>
        </div>


                <label for="FieldSelect" class="slds-form-element__label slds-no-flex">
                    <abbr title="required" class="slds-required">*</abbr>
                </label>
    
            
                <select class="slds-select" name = "contactSelect" onchange={changeHandler} >
                    <template for:each={allContacts.data} for:item="contact">
                        <option key={contact.id} value={contact.Id}>{contact.Name}</option> 
                    </template>
                </select> 
    
                <select class="slds-select" name = "accountSelect" onchange={changeHandler} >
                    <template for:each={allAccounts.data} for:item="account">
                        <option key={account.Id} value={account.Id}>{account.Name}</option>  
                        <option key={account.Id} value={account.Id}>{account.Id}</option>  
                    </template>
                </select> 
    
    
                <lightning-input label="Role:" onchange={handleRole} class="slds-m-bottom_x-small"></lightning-input>
                <lightning-button label="Add Relation" variant="brand" onclick={createRelation}></lightning-button>


  
</lightning-card>
</template>